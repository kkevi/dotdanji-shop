import {AppProps} from "next/app"
import Head from "next/head"
import {CssBaseline, ThemeProvider} from "@mui/material"
import {theme} from "styles/theme"
import {GlobalStyle} from "styles/global-styles"
import {ToastContainer} from "react-toastify"
import "react-toastify/dist/ReactToastify.css"
import {observer} from "mobx-react"
import StoreProvider from "Components/store/StoreProvider"
import UserLoginObserver from "Components/observer/UserLoginObserver"
import React, {useEffect} from "react"

function MyApp({Component, pageProps}: AppProps) {
    useEffect(() => {
        console.log("work on _app.tsx")
    }, [])

    return (
        <>
            <Head>
                <title>SIMKIDS</title>
                <meta name="description" content="Generated by create next app" />
                {/* favicon */}
                {/* font */}
                <link
                    href="https://hangeul.pstatic.net/hangeul_static/css/nanum-square-round.css"
                    rel="stylesheet"
                ></link>
            </Head>
            <StoreProvider rootStoreInitialState={undefined}>
                <UserLoginObserver>
                    <ThemeProvider theme={theme}>
                        <CssBaseline />
                        <GlobalStyle />
                        <Component {...pageProps} />
                        <ToastContainer autoClose={2000} pauseOnHover={false} hideProgressBar />
                    </ThemeProvider>
                </UserLoginObserver>
            </StoreProvider>
        </>
    )
}

export default observer(MyApp)
